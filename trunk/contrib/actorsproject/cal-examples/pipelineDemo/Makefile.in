# rvc-profile Makefile
MODEL1=test1
MODEL2=test2
MODEL3=test3
MODEL4=test4


# delete the built-in suffixes to avoid surprises
.SUFFIXES:   

# $(MODEL) is "PHONY" to force sub-make
.PHONY: all clean $(MODEL1) $(MODEL2) $(MODEL3) $(MODEL4)
  
  all: $(MODEL1) $(MODEL2) $(MODEL3) $(MODEL4)

# The path to the installed ACTOR-specific tools
MAKEMODEL=@datadir@/actors-make/makemodel.mk

# Model-specific options
export CFLAGS=-O3 -std=c99
export srcdir=@datadir@/cal-examples/pipelineDemo

$(MODEL1): 
	$(MAKE) -f $(MAKEMODEL) MODEL=$(MODEL1) PRESERVE_C=Y $@

$(MODEL2): 
	$(MAKE) -f $(MAKEMODEL) MODEL=$(MODEL2) PRESERVE_C=Y $@

$(MODEL3): 
	$(MAKE) -f $(MAKEMODEL) MODEL=$(MODEL3) PRESERVE_C=Y $@

$(MODEL4): 
	$(MAKE) -f $(MAKEMODEL) MODEL=$(MODEL4) PRESERVE_C=Y $@

clean:
	@rm -f $(MODEL1) $(MODEL2) $(MODEL3) $(MODEL4) *.o *.c *.xlim
	@rm -f *.timestamp *.par *.depend $(MODEL).xdf
	@rm -fr cache
