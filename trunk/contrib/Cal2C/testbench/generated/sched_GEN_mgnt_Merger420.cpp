#include <systemc.h>
#include <tlm.h>
#include "sched_GEN_mgnt_Merger420.h"

#ifdef __cplusplus
extern "C" {
#endif
/* Generated by CIL v. 1.3.6 */
/* print_CIL_Input is false */

struct GEN_mgnt_Merger420_variables {

};
void libcal_printf(char const   *format  , ...) ;
// To enable traces, change 1 by 0 in the #if below
#if 1
#define libcal_printf //
#endif
int currentSystemTime(void) ;
int openFile(char *file_name ) ;
void picture_displayImage(void) ;
void picture_setPixel(int x , int y , int r , int g , int b ) ;
int readByte(int fd ) ;
int JFrame(char *title ) ;
int Picture(int width , int height ) ;
void GEN_mgnt_Merger420_U(struct GEN_mgnt_Merger420_variables *_actor_variables ,
                          int u[64] , int YUV[64] ) ;
void GEN_mgnt_Merger420_V(struct GEN_mgnt_Merger420_variables *_actor_variables ,
                          int v[64] , int YUV[64] ) ;
void GEN_mgnt_Merger420_Y(struct GEN_mgnt_Merger420_variables *_actor_variables ,
                          int y[256] , int YUV[256] ) ;

#ifdef __cplusplus
}
#endif

void sched_GEN_mgnt_Merger420::process() {
/* Generated by CIL v. 1.3.6 */
/* print_CIL_Input is false */

 
{ int fsm_state ;
  int _token_1 ;
  int _out_1[64] ;
  int _token_2 ;
  int _out_2[64] ;
  int _token_3 ;
  int _out_3[256] ;
  int i ;
  int _list_10[256] ;
  int _call_11 ;
  int _list_12[256] ;
  int _list_13[64] ;
  int _call_14 ;
  int _list_15[64] ;
  int _list_16[64] ;
  int _call_17 ;
  int _list_18[64] ;
  struct GEN_mgnt_Merger420_variables *_actor_variables ;

  {
  _actor_variables = (struct GEN_mgnt_Merger420_variables *)malloc(sizeof(struct GEN_mgnt_Merger420_variables ));
  fsm_state = 1;
  while (1) {
    switch (fsm_state) {
    case 1: 
    {
    i = 0;
    while (i < 256) {
      libcal_printf("action GEN_mgnt_Merger420_Y: get from Y\n");
      _call_11 = Y->get();
      _token_3 = _call_11;
      libcal_printf("action GEN_mgnt_Merger420_Y: got %i from Y\n", _token_3);
      _list_10[1 * i + 0] = _token_3;
      i ++;
    }
    GEN_mgnt_Merger420_Y(_actor_variables, _list_10, _out_3);
    i = 0;
    while (i < 256) {
      libcal_printf("action GEN_mgnt_Merger420_Y: put value %i to YUV\n", _out_3[i]);
      YUV->put(_out_3[i]);
      libcal_printf("action GEN_mgnt_Merger420_Y: put to YUV OK\n");
      _list_12[1 * i + 0] = 0;
      i ++;
    }
    fsm_state = 2;
    break;
    }
    case 2: 
    {
    i = 0;
    while (i < 64) {
      libcal_printf("action GEN_mgnt_Merger420_U: get from U\n");
      _call_14 = U->get();
      _token_1 = _call_14;
      libcal_printf("action GEN_mgnt_Merger420_U: got %i from U\n", _token_1);
      _list_13[1 * i + 0] = _token_1;
      i ++;
    }
    GEN_mgnt_Merger420_U(_actor_variables, _list_13, _out_1);
    i = 0;
    while (i < 64) {
      libcal_printf("action GEN_mgnt_Merger420_U: put value %i to YUV\n", _out_1[i]);
      YUV->put(_out_1[i]);
      libcal_printf("action GEN_mgnt_Merger420_U: put to YUV OK\n");
      _list_15[1 * i + 0] = 0;
      i ++;
    }
    fsm_state = 3;
    break;
    }
    case 3: 
    {
    i = 0;
    while (i < 64) {
      libcal_printf("action GEN_mgnt_Merger420_V: get from V\n");
      _call_17 = V->get();
      _token_2 = _call_17;
      libcal_printf("action GEN_mgnt_Merger420_V: got %i from V\n", _token_2);
      _list_16[1 * i + 0] = _token_2;
      i ++;
    }
    GEN_mgnt_Merger420_V(_actor_variables, _list_16, _out_2);
    i = 0;
    while (i < 64) {
      libcal_printf("action GEN_mgnt_Merger420_V: put value %i to YUV\n", _out_2[i]);
      YUV->put(_out_2[i]);
      libcal_printf("action GEN_mgnt_Merger420_V: put to YUV OK\n");
      _list_18[1 * i + 0] = 0;
      i ++;
    }
    fsm_state = 1;
    break;
    }
    }
  }
}
}

}
