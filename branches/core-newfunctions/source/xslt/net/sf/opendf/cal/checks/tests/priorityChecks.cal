// priorityChecks.cal

actor priorityChecks() inPort, otherPort, yaInPort ==> outPort :

  compound.one: action inPort:[i] ==> outPort:[i] end
  compound.two: action inPort:[i], otherPort:[x] ==> outPort:[i] end

  readOne: action inPort:[i] ==> outPort:[i] end
  readTwo: action inPort:[i], otherPort:[x] ==> outPort:[i] end
  readThree: action inPort:[i], otherPort:[x], yaInPort:[y] ==> end
  
  nonDeterministic: action inPort:[i], otherPort:[x] ==> outPort:[i] end

  ambiguous.two: action inPort:[i], otherPort:[x] ==> outPort:[i] end
  anotherAmbiguous.two: action inPort:[i], otherPort:[x] ==> outPort:[i] end
  ambiguousCompoundOne: action inPort:[i] ==> outPort:[i] end

  ambiguousCompound.one: action inPort:[i] ==> outPort:[i] end
  ambiguousCompound.two: action inPort:[i], otherPort:[x] ==> outPort:[i] end
  
  priority
    // Good priority
    readOne > readTwo;
    readOne > readTwo > readThree;
    compound > readThree;
    
    // Reference to undefined action
    missingAction > readOne;
    readOne > anotherMissingAction;
    readOne > readTwo.missing;
    readOne.missing > readTwo;
    
    // Non-determinism warnings
    nonDeterministic > readOne;
    ambiguous > readOne;
    anotherAmbiguous > compound;
    ambiguousCompound > ambiguousCompoundOne;
  end
  
end
