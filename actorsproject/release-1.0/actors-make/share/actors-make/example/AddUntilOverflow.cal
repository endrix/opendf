actor AddUntilOverflow() int X, int Y ==> int Sum :

      run: action X:[x], Y:[y] ==> Sum:[sum]
      guard sum >= 0
      var
        int sum=x+y
      end

      drain: action X:[x], Y:[y] ==>
      end
 
      terminate: action Y:[lastToken] ==>
      end

      priority
        run > drain;
      end

      schedule fsm run:
        run (run)         --> run;
        run (drain)       --> drain;
        drain (terminate) --> drain;
      end
end