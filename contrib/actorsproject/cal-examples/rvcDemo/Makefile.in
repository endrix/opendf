# rvcDemo/rmDemo Makefile
MODELS=rvcDemo rmDemo rmRtspDemo

# delete the built-in suffixes to avoid surprises
.SUFFIXES:   

# $(MODEL) is "PHONY" to force sub-make
.PHONY: all clean $(MODELS)

all: rvcDemo

# The path to the installed ACTOR-specific tools
MAKEMODEL=@datadir@/actors-make/makemodel.mk

# Model-specific options
#export CFLAGS=-O3 -std=c99
export CFLAGS=-O3
export srcdir=@datadir@/cal-examples/rvcDemo

rvcDemo: 
	$(MAKE) -f $(MAKEMODEL) MODEL=$@ PRESERVE_C=Y $@

rmDemo: 
	$(MAKE) -f $(MAKEMODEL) MODEL=$@ PRESERVE_C=Y $@

rmRtspDemo: 
	$(MAKE) -f $(MAKEMODEL) MODEL=$@ PRESERVE_C=Y $@

MODEL_XDFS=$(MODELS:%=%.xdf)

clean:
	@rm -f $(MODELS) *.gprof *.o *.c *.xlim
	@rm -f *.timestamp *.par *.depend $(MODEL_XDFS)
	@rm -f HEIGHT.txt WIDTH.txt
	@rm -fr cache
